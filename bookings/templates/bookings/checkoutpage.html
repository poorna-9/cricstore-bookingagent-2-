{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checkout | CricStore</title>
  <link rel="stylesheet" href="{% static 'css/bookings/style.css' %}">
</head>
<body class="checkout">
  <div class="checkout-container">
    <h1>Checkout</h1>

    <div class="booking-summary">
      <h3>Selected Slots</h3>
      <ul>
        {% for s in reserved %}
          <li>{{ s.slot.time }}</li>
        {% endfor %}
      </ul>
      <p><strong>Total Price:</strong> ₹{{ total }}</p>
      <p><strong>Ground:</strong> {{ ground.name }}</p>
    </div>

    <form action="{% url 'payment_success' %}" method="POST">
      {% csrf_token %}
      <script 
        src="https://checkout.razorpay.com/v1/checkout.js"
        data-key="{{ razorpay_key }}"
        data-amount="{{ total|floatformat:2|floatformat:0 }}00"
        data-currency="INR"
        data-order_id="{{ order_id }}"
        data-buttontext="Pay ₹{{ total }}"
        data-name="CricStore Booking"
        data-description="Secure payment for turf booking"
        data-theme.color="#3399cc">
      </script>
      <input type="hidden" name="order_id" value="{{ order_id }}">
    </form>
  </div>
</body>
</html>
